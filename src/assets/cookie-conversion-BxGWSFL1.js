import{c as t,m as M,I as V,D as F,t as l,i as o,p as $,J as x,A as T,s as N,v as q,C as B,y as G,M as v,G as X,a as H,S as Q,b as W,K as Y,L as Z}from"./index-DbjPuGEI.js";import{c as ee}from"./copy-De-K3UnO.js";import{R as _,d as b,c as y,f as C}from"./app.iconfont-LdJ-0HaC.js";var te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ae=g=>t(V,M(g,{iconNode:te,name:"circle-x"})),le=ae,re=l('<span><code class="text-vtx-l-2 dark:text-vtx-d-2">,'),ne=l("<span>美国"),se=l("<span>转美国"),ce=l("<span>英国"),S=l("<span>转英国"),oe=l("<span>日本"),ie=l("<span>转日本"),de=l("<span>德国"),ue=l("<span>转德国"),fe=l("<span class=font-semibold>UK"),pe=l("<span class=font-semibold>JP"),ge=l("<span class=font-semibold>DE"),me=l("<span class=font-semibold>US"),be=l('<div class="flex items-center gap-2 sticky top-4 left-full -translate-x-full w-fit p-2 bg-vbg-l-2 dark:bg-vbg-d-2">'),he=l("<code class=text-blue-500>["),xe=l("<code class=text-blue-500>]"),ve=l('<main class="w-4/5 rounded-2xl p-4 bg-vbg-l-2 dark:bg-vbg-d-2 shadow-lg shadow-vtx-d-2/50 dark:shadow-vtx-l-2/50"><article class=relative><div class="absolute top-2 right-2 p-2 bg-vbg-l-2 dark:bg-vbg-d-2"></div><textarea class="w-full leading-8 indent-4 resize-none font-bold text-vtx-l-2 dark:text-vtx-d-2 text-sm rounded border border-vbd-l-1 dark:border-vbd-d-1 placeholder:text-vtx-l-3 dark:placeholder:text-vtx-d-3 hover:border-blue-500 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/25 select-none outline-none duration-300"rows=3 wrap=soft autocomplete=off placeholder="在此输入 Cookie 数据..."></textarea></article><article class="flex flex-col mt-4 border border-vbd-l-1 dark:border-vbd-d-1 rounded"><section class="p-4 flex items-center gap-4 border-b border-vbd-l-1 dark:border-vbd-d-1"><div class="flex justify-center items-center gap-4 w-80"></div></section><pre class="p-4 h-120 max-h-100 overflow-y-scroll overflow-x-hidden">'),we=l('<ul class=pl-4><code class="text-blue-400 pl-4 leading-8">{</code><code class="text-blue-400 pl-4 leading-8">'),ke=l('<li class="flex w-full pl-12 leading-8"><strong class="text-vtx-l-2 dark:text-vtx-d-2"></strong><code>:&nbsp;');function Ce(){let g;const[a,p]=F({data:[],isLoading:!1,ck:{raw:null,new:null}});function A(e){try{return{success:!0,data:JSON.parse(e)}}catch(c){return{success:!1,error:c}}}function D(e){if(e===null)return"null";switch(typeof e){case"string":return j(e);case"object":return JSON.stringify(e);case"undefined":return"undefined";case"boolean":case"number":case"bigint":case"function":case"symbol":default:return String(e)}}function j(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\//g,"\\/").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")}function w(e){return typeof e=="string"?`"${j(e)}"`:Array.isArray(e)?`[${e.map(w).join(",")}]`:e&&typeof e=="object"?`{${Object.entries(e).map(([i,n])=>`"${i}":${w(n)}`).join(",")}}`:JSON.stringify(e)}function P(e){const c={string:"text-orange-500",number:"text-teal-500",boolean:"text-blue-500",undefined:"text-gray-500",symbol:"text-purple-500",bigint:"text-indigo-500",function:"text-pink-500",object:e.value===null?"text-sky-500":"text-red-500"}[typeof e.value],i=typeof e.value=="string"?`"${D(e.value)}"`:`${e.value}`;return(()=>{var n=re(),d=n.firstChild;return Z(n,`flex-1 break-all ${c}`),o(n,i,d),n})()}const R=[{domain:"amazon.com",code:"us",suffix:"-main"},{domain:"amazon.jp",code:"jp",suffix:"-acbjp"},{domain:"amazon.co.uk",code:"uk",suffix:"-acbuk"},{domain:"amazon.de",code:"de",suffix:"-acbde"}],L=e=>e!==null?R.find(c=>c.code===e):void 0,U=(e,c)=>{if(e===null||c===null||e===c)return;const i=L(e),n=L(c);!i||!n||p(x(d=>{d.data=d.data.map(u=>({...u,name:u.name.replace(new RegExp(i.suffix,"g"),n.suffix),domain:u.domain.replace(new RegExp(i.domain,"g"),n.domain)})),d.ck.raw=d.ck.new}))},I=[{value:"us",label:[t(_,{class:"w-4 h-4"}),ne()],stance:[t(_,{class:"w-4 h-4"}),se()]},{value:"uk",label:[t(b,{class:"w-4 h-4"}),ce()],stance:[t(b,{class:"w-4 h-4"}),S()]},{value:"jp",label:[t(y,{class:"w-4 h-4"}),oe()],stance:[t(y,{class:"w-4 h-4"}),ie()]},{value:"de",label:[t(C,{class:"w-4 h-4"}),de()],stance:[t(C,{class:"w-4 h-4"}),ue()]}];return(()=>{var e=ve(),c=e.firstChild,i=c.firstChild,n=i.nextSibling,d=c.nextSibling,u=d.firstChild,z=u.firstChild,K=u.nextSibling;o(i,t(le,{class:"w-6 h-6 cursor-pointer","stroke-width":2.5,onClick:()=>{g.value="",p(r=>({...r,ck:{...r.ck,raw:null},isLoading:!1,data:[]}))}})),n.addEventListener("blur",r=>{const s=A(r.target.value);if(!s.success){$.error("无效的 Cookie 格式"),p("isLoading",!1);return}const m=s.data.filter(f=>/(?<!\w)amazon\./i.test(f.domain));p(x(f=>{f.ck.raw=R.find(h=>new RegExp(`\\.${h.domain}$`,"i").test(m?.[0]?.domain??""))?.code??null,f.isLoading=!0,f.data=s.data}))});var E=g;return typeof E=="function"?T(E,n):g=n,N(n,"spellcheck",!1),o(z,t(q,{options:I,get value(){return[{value:"uk",label:[t(b,{class:"w-4 h-4"}),S()],stance:[t(b,{class:"w-4 h-4"}),S()]}]},rootClass:"bg-vbg-l-3 dark:bg-vbg-d-3",tag:!0,onLoad:r=>{p(x(s=>{s.ck.new=r[0].value}))},onChange:r=>{p(x(s=>{s.ck.new=r[0].value}))}}),null),o(z,t(B,{get disabled(){return!a.isLoading},onClick:()=>{a.ck.raw!==null&&a.ck.new!==null&&U(a.ck.raw,a.ck.new)},children:"转换"}),null),o(u,t(ee,{class:"w-6 h-6 cursor-pointer duration-300 hover:text-blue-500 ml-auto","stroke-width":2.5,onClick:async()=>{if(a.data.length===0)return;const r=w(a.data);try{if(navigator.clipboard)await navigator.clipboard.writeText(r);else{const s=document.createElement("textarea");s.value=r,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)}$.success("复制成功")}catch{$.error("复制失败")}}}),null),o(K,t(Q,{get when(){return a.isLoading&&a.data.length>0},get children(){return[(()=>{var r=be();return o(r,t(G,{get children(){return[t(v,{get when(){return a.data.length>0&&a.ck.raw==="uk"},get children(){return[t(b,{class:"w-4 h-4"}),fe()]}}),t(v,{get when(){return a.data.length>0&&a.ck.raw==="jp"},get children(){return[t(y,{class:"w-4 h-4"}),pe()]}}),t(v,{get when(){return a.data.length>0&&a.ck.raw==="de"},get children(){return[t(C,{class:"w-4 h-4"}),ge()]}}),t(v,{get when(){return a.data.length>0&&a.ck.raw==="us"},get children(){return[t(_,{class:"w-4 h-4"}),me()]}})]}})),r})(),he(),t(X,{get each(){return a.data},children:(r,s)=>(()=>{var m=we(),f=m.firstChild,h=f.nextSibling;return o(m,t(H,{get each(){return Object.keys(r)},children:J=>(()=>{var k=ke(),O=k.firstChild;return O.nextSibling,o(O,J),o(k,t(P,{get value(){return r[J()]}}),null),k})()}),h),o(h,()=>s()===a.data.length-1?"}":"},"),m})()}),xe()]}})),W(()=>N(n,"id",Y())),e})()}export{Ce as default};
